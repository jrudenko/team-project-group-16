{"mappings":"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","sources":["src/JS/itc-slider.js"],"sourcesContent":["/**\n * ItcSlider by itchief v3.0.0 (https://github.com/itchief/ui-components/tree/master/itc-slider)\n * Copyright 2020 - 2022 Alexander Maltsev\n * Licensed under MIT (https://github.com/itchief/ui-components/blob/master/LICENSE)\n */\n\nclass ItcSlider {\n  static CLASS_CONTROL = 'slider__control';\n  static CLASS_CONTROL_HIDE = 'slider__control_hide';\n  static CLASS_ITEM_ACTIVE = 'slider__item_active';\n  static CLASS_INDICATOR_ACTIVE = 'active';\n  static SEL_WRAPPER = '.slider__wrapper';\n  static SEL_ITEM = '.slider__item';\n  static SEL_ITEMS = '.slider__items';\n  static SEL_PREV = '.slider__control[data-slide=\"prev\"]';\n  static SEL_NEXT = '.slider__control[data-slide=\"next\"]';\n  static SEL_INDICATOR = '.slider__indicators>li';\n  static TRANSITION_OFF = 'slider_disable-transition';\n\n  static contains = [];\n\n  static createInstances() {\n    document.querySelectorAll('[data-slider=\"itc-slider\"]').forEach((el) => {\n      if (this.contains.find((item) => item.el === el)) {\n        return;\n      }\n      const dataset = el.dataset;\n      const params = {};\n      Object.keys(dataset).forEach((key) => {\n        if (key === 'slider') {\n          return;\n        }\n        let value = dataset[key];\n        value = value === 'true' ? true : value;\n        value = value === 'false' ? false : value;\n        value = Number.isNaN(Number(value)) ? Number(value) : value;\n        params[key] = value;\n      });\n      this.contains.push({ el, slider: new ItcSlider(el, params) });\n      el.dataset.sliderId = this.contains.length;\n      el.querySelectorAll('.slider__control').forEach((btn) => {\n        btn.dataset.sliderTarget = this.contains.length;\n      });\n    });\n  }\n\n  constructor(selector, config) {\n    this._el = typeof selector === 'string' ? document.querySelector(selector) : selector;\n    this._elWrapper = this._el.querySelector(ItcSlider.SEL_WRAPPER);\n    this._elItems = this._el.querySelector(ItcSlider.SEL_ITEMS);\n    this._elsItem = this._el.querySelectorAll(ItcSlider.SEL_ITEM);\n    this._elsIndicator = this._el.querySelectorAll(ItcSlider.SEL_INDICATOR);\n    this._btnPrev = this._el.querySelector(ItcSlider.SEL_PREV);\n    this._btnNext = this._el.querySelector(ItcSlider.SEL_NEXT);\n\n    this._exOrderMin = 0;\n    this._exOrderMax = 0;\n    this._exItemMin = null;\n    this._exItemMax = null;\n    this._exTranslateMin = 0;\n    this._exTranslateMax = 0;\n\n    this._direction = 'next';\n\n    this._intervalId = null;\n\n    this._isSwiping = false;\n    this._swipeX = 0;\n\n    this._config = {\n      loop: true,\n      autoplay: false,\n      interval: 5000,\n      refresh: true,\n      swipe: true,\n      ...config\n    };\n\n    this._setInitialValues();\n    this._addEventListener();\n  }\n\n  _addEventListener() {\n    this._el.addEventListener('click', (e) => {\n      this._autoplay('stop');\n      if (e.target.classList.contains(ItcSlider.CLASS_CONTROL)) {\n        e.preventDefault();\n        this._direction = e.target.dataset.slide;\n        this._move();\n      } else if (e.target.dataset.slideTo) {\n        const index = parseInt(e.target.dataset.slideTo, 10);\n        this._moveTo(index);\n      }\n      this._config.loop ? this._autoplay() : null;\n    });\n    this._el.addEventListener('mouseenter', () => {\n      this._autoplay('stop');\n    });\n    this._el.addEventListener('mouseleave', () => {\n      this._autoplay();\n    });\n    if (this._config.refresh) {\n      window.addEventListener('resize', () => {\n        window.requestAnimationFrame(this._reset.bind(this));\n      });\n    }\n    if (this._config.loop) {\n      this._elItems.addEventListener('itcslider-start', () => {\n        if (this._isBalancing) {\n          return;\n        }\n        this._isBalancing = true;\n        window.requestAnimationFrame(this._balanceItems.bind(this));\n      });\n      this._elItems.addEventListener('transitionend', () => {\n        this._isBalancing = false;\n      });\n    }\n    const onSwipeStart = (e) => {\n      this._autoplay('stop');\n      const event = e.type.search('touch') === 0 ? e.touches[0] : e;\n      this._swipeX = event.clientX;\n      this._isSwiping = true;\n    };\n    const onSwipeEnd = (e) => {\n      if (!this._isSwiping) {\n        return;\n      }\n      const event = e.type.search('touch') === 0 ? e.changedTouches[0] : e;\n      const diffPos = this._swipeX - event.clientX;\n      if (diffPos > 50) {\n        this._direction = 'next';\n        this._move();\n      } else if (diffPos < -50) {\n        this._direction = 'prev';\n        this._move();\n      }\n      this._isSwiping = false;\n      if (this._config.loop) {\n        this._autoplay();\n      }\n    };\n    if (this._config.swipe) {\n      this._el.addEventListener('touchstart', onSwipeStart);\n      this._el.addEventListener('mousedown', onSwipeStart);\n      document.addEventListener('touchend', onSwipeEnd);\n      document.addEventListener('mouseup', onSwipeEnd);\n    }\n    this._el.addEventListener('dragstart', (e) => {\n      e.preventDefault();\n    });\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden') {\n        this._autoplay('stop');\n      } else if (document.visibilityState === 'visible' && this._config.loop) {\n        this._autoplay();\n      }\n    });\n  }\n\n  _autoplay(action) {\n    if (!this._config.autoplay) {\n      return;\n    }\n    if (action === 'stop') {\n      clearInterval(this._intervalId);\n      this._intervalId = null;\n      return;\n    }\n    if (this._intervalId === null) {\n      this._intervalId = setInterval(() => {\n        this._direction = 'next';\n        this._move();\n      }, this._config.interval);\n    }\n  }\n\n  _balanceItems() {\n    if (!this._isBalancing) {\n      return;\n    }\n    const wrapperRect = this._elWrapper.getBoundingClientRect();\n    const targetWidth = wrapperRect.width / this._countActiveItems / 2;\n    const countItems = this._elsItem.length;\n    if (this._direction === 'next') {\n      const exItemRectRight = this._exItemMin.getBoundingClientRect().right;\n      if (exItemRectRight < wrapperRect.left - targetWidth) {\n        this._exItemMin.dataset.order = this._exOrderMin + countItems;\n        const translate = this._exTranslateMin + countItems * this._widthItem;\n        this._exItemMin.dataset.translate = translate;\n        this._exItemMin.style.transform = `translateX(${translate}px)`;\n        this._updateExProperties();\n      }\n    } else {\n      const exItemRectLeft = this._exItemMax.getBoundingClientRect().left;\n      if (exItemRectLeft > wrapperRect.right + targetWidth) {\n        this._exItemMax.dataset.order = this._exOrderMax - countItems;\n        const translate = this._exTranslateMax - countItems * this._widthItem;\n        this._exItemMax.dataset.translate = translate;\n        this._exItemMax.style.transform = `translateX(${translate}px)`;\n        this._updateExProperties();\n      }\n    }\n    window.requestAnimationFrame(this._balanceItems.bind(this));\n  }\n\n  _changeActiveItems() {\n    this._stateItems.forEach((item, index) => {\n      if (item) {\n        this._elsItem[index].classList.add(ItcSlider.CLASS_ITEM_ACTIVE);\n      } else {\n        this._elsItem[index].classList.remove(ItcSlider.CLASS_ITEM_ACTIVE);\n      }\n      if (this._elsIndicator.length && item) {\n        this._elsIndicator[index].classList.add(ItcSlider.CLASS_INDICATOR_ACTIVE);\n      } else if (this._elsIndicator.length && !item) {\n        this._elsIndicator[index].classList.remove(ItcSlider.CLASS_INDICATOR_ACTIVE);\n      }\n    });\n  }\n\n  _move() {\n    const widthItem = this._direction === 'next' ? -this._widthItem : this._widthItem;\n    const transform = this._transform + widthItem;\n    if (!this._config.loop) {\n      const limit = this._widthItem * (this._elsItem.length - this._countActiveItems);\n      if (transform < -limit || transform > 0) {\n        return;\n      }\n      if (this._btnPrev) {\n        this._btnPrev.classList.remove(ItcSlider.CLASS_CONTROL_HIDE);\n        this._btnNext.classList.remove(ItcSlider.CLASS_CONTROL_HIDE);\n      }\n      if (this._btnPrev && transform === -limit) {\n        this._btnNext.classList.add(ItcSlider.CLASS_CONTROL_HIDE);\n      } else if (this._btnPrev && transform === 0) {\n        this._btnPrev.classList.add(ItcSlider.CLASS_CONTROL_HIDE);\n      }\n    }\n    if (this._direction === 'next') {\n      this._stateItems = [...this._stateItems.slice(-1), ...this._stateItems.slice(0, -1)];\n    } else {\n      this._stateItems = [...this._stateItems.slice(1), ...this._stateItems.slice(0, 1)];\n    }\n    this._changeActiveItems();\n    this._transform = transform;\n    this._elItems.style.transform = `translateX(${transform}px)`;\n    this._elItems.dispatchEvent(new CustomEvent('itcslider-start', {\n      bubbles: true\n    }));\n  }\n\n  _moveTo(index) {\n    const delta = this._stateItems.reduce((acc, current, currentIndex) => {\n      const diff = current ? index - currentIndex : acc;\n      return Math.abs(diff) < Math.abs(acc) ? diff : acc;\n    }, this._stateItems.length);\n    if (delta !== 0) {\n      this._direction = delta > 0 ? 'next' : 'prev';\n      for (let i = 0; i < Math.abs(delta); i++) {\n        this._move();\n      }\n    }\n  }\n\n  _setInitialValues() {\n    this._transform = 0;\n    this._stateItems = [];\n    this._isBalancing = false;\n    this._widthItem = this._elsItem[0].getBoundingClientRect().width;\n    this._widthWrapper = this._elWrapper.getBoundingClientRect().width;\n    this._countActiveItems = Math.round(this._widthWrapper / this._widthItem);\n    this._elsItem.forEach((el, index) => {\n      el.dataset.index = index;\n      el.dataset.order = index;\n      el.dataset.translate = 0;\n      el.style.transform = '';\n      this._stateItems.push(index < this._countActiveItems ? 1 : 0);\n    });\n    if (this._config.loop) {\n      const lastIndex = this._elsItem.length - 1;\n      const translate = -(lastIndex + 1) * this._widthItem;\n      this._elsItem[lastIndex].dataset.order = -1;\n      this._elsItem[lastIndex].dataset.translate = translate;\n      this._elsItem[lastIndex].style.transform = `translateX(${translate}px)`;\n      this._updateExProperties();\n    } else if (this._btnPrev) {\n      this._btnPrev.classList.add(ItcSlider.CLASS_CONTROL_HIDE);\n    }\n    this._changeActiveItems();\n    this._autoplay();\n  }\n\n  _reset() {\n    const widthItem = this._elsItem[0].getBoundingClientRect().width;\n    const widthWrapper = this._elWrapper.getBoundingClientRect().width;\n    const countActiveEls = Math.round(widthWrapper / widthItem);\n    if (widthItem === this._widthItem && countActiveEls === this._countActiveItems) {\n      return;\n    }\n    this._autoplay('stop');\n    this._elItems.classList.add(ItcSlider.TRANSITION_OFF);\n    this._elItems.style.transform = 'translateX(0)';\n    this._setInitialValues();\n    window.requestAnimationFrame(() => {\n      this._elItems.classList.remove(ItcSlider.TRANSITION_OFF);\n    });\n  }\n\n  _updateExProperties() {\n    const els = Object.values(this._elsItem).map((el) => el);\n    const orders = els.map((item) => Number(item.dataset.order));\n    this._exOrderMin = Math.min(...orders);\n    this._exOrderMax = Math.max(...orders);\n    const min = orders.indexOf(this._exOrderMin);\n    const max = orders.indexOf(this._exOrderMax);\n    this._exItemMin = els[min];\n    this._exItemMax = els[max];\n    this._exTranslateMin = Number(this._exItemMin.dataset.translate);\n    this._exTranslateMax = Number(this._exItemMax.dataset.translate);\n  }\n\n  next() {\n    this._direction = 'next';\n    this._move();\n  }\n  prev() {\n    this._direction = 'prev';\n    this._move();\n  }\n  moveTo(index) {\n    this._moveTo(index);\n  }\n  reset() {\n    this._reset();\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ItcSlider.createInstances();\n});"],"names":["_arrayLikeToArray","arr","len","ItcSlider","selector","config","this","_el","document","querySelector","_elWrapper","SEL_WRAPPER","_elItems","SEL_ITEMS","_elsItem","querySelectorAll","SEL_ITEM","_elsIndicator","SEL_INDICATOR","_btnPrev","SEL_PREV","_btnNext","SEL_NEXT","_exOrderMin","_exOrderMax","_exItemMin","_exItemMax","_exTranslateMin","_exTranslateMax","_direction","_intervalId","_isSwiping","_swipeX","_config","_objectSpread","loop","autoplay","interval","refresh","swipe","_setInitialValues","_addEventListener","key","addEventListener","e","_this","_autoplay","target","classList","contains","CLASS_CONTROL","preventDefault","dataset","slide","_move","slideTo","index","parseInt","_moveTo","window","requestAnimationFrame","_reset","bind","_this1","_isBalancing","_balanceItems","onSwipeStart","event","type","search","touches","clientX","onSwipeEnd","changedTouches","diffPos","visibilityState","action","clearInterval","setInterval","wrapperRect","getBoundingClientRect","targetWidth","width","_countActiveItems","countItems","length","right","left","order","translate","_widthItem","style","transform","concat","_updateExProperties","translate1","_stateItems","forEach","item","add","CLASS_ITEM_ACTIVE","remove","CLASS_INDICATOR_ACTIVE","widthItem","_transform","limit","CLASS_CONTROL_HIDE","_toConsumableArray","slice","_changeActiveItems","dispatchEvent","CustomEvent","bubbles","delta","reduce","acc","current","currentIndex","diff","Math","abs","i","_widthWrapper","round","el","push","lastIndex","widthWrapper","countActiveEls","TRANSITION_OFF","_Math","_Math1","els","Object","values","map","orders","Number","min","apply","max","indexOf","find","params","keys","value","isNaN","slider","sliderId","btn","sliderTarget","_this2","_defineProperty","createInstances"],"version":3,"file":"index.d4daa338.js.map"}